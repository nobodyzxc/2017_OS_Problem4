<html>
  <head>
	<meta charset="utf-8">
  	<meta name="viewport" content="width=device-width, initial-scale=1">
  	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  </head>
  <body>
    <script>
      var socket = io.connect();

      socket.on('date', function(data) {
        $('#date').text(data.date);
      });
      
	  socket.on('update', function(data) {
	  	var ele = document.getElementById("pbar1");
		var width = data.val;
		ele.style.width = width + '%';
		ele.innerHTML = width + '% Complete';
        //$('#pbar1').aria-valuenow(data.val);
      });

      $(document).ready(function(){
        $('#text').keypress(function(e){
          socket.emit('client_data', {
            'letter': String.fromCharCode(e.charCode)
          });
        });
      });
    </script>
	<div class="container">
  		<h2>Basic Progress Bar</h2>
  		<div class="progress">
    		<div id="pbar1" class="progress-bar" role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100" style="width:70%">
      			70% Complete
    		</div>
  		</div>
	</div>
	<div id="up"></div>
    <div id="date"></div>
    <textarea id="text"></textarea>
  </body>
</html>
